[Unit]
Description=WirePlumber CPU Watchdog Service
Documentation=https://gitlab.freedesktop.org/pipewire/wireplumber
After=wireplumber.service
PartOf=pipewire-session-manager.service

[Service]
Type=simple
ExecStart=%h/.local/bin/wireplumber-watchdog.sh
Restart=on-failure
RestartSec=10

# デスクトップ通知のための環境変数
Environment="DBUS_SESSION_BUS_ADDRESS=unix:path=/run/user/%U/bus"

# リソース制限
MemoryMax=50M
CPUQuota=10%

[Install]
WantedBy=default.target
